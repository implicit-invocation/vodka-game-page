(this["webpackJsonpvodka-game"]=this["webpackJsonpvodka-game"]||[]).push([[0],{24:function(t,e,n){t.exports=n(53)},26:function(t,e,n){},53:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),o=n(2),c=n(3),i=(n(26),n(0)),s=n(15),u=n.n(s),h=new i.b,d=function(t,e){return h.set(t,e),h.angle()},f=function(){var t=Math.random();return t<1/3?0:t>2/3?1:2},l=function(t,e){var n=(Math.random()+.5)*e/15;return 2===t?{w:n,h:2*n}:{w:n,h:n}},g=function(){var t=Object(c.a)(a.a.mark((function t(e,n,r,o){var c,s,u,h,g,p,w,v,b,m,x=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=x.length>4&&void 0!==x[4]&&x[4],t.next=3,Object(i.f)(e,"./confetti/confetti.atlas");case 3:return s=t.sent,u=s.findRegion("cone"),h=[s.findRegion("star1"),s.findRegion("star2"),s.findRegion("string")],g=[],p=function(){g.length=0;for(var t=0;t<30;t++){var e=f(),n=l(e,r),a=n.w,c=n.h;g.push({speedX:(Math.random()+.5)*r,speedY:(Math.random()+.5)*o,x:0,y:0,type:e,w:a,h:c,scale:1})}},v=(w=r/10)/u.width*u.height,b=c?r-w:0,m=o-v,t.abrupt("return",{start:p,update:function(t){var e=!0,n=!1,a=void 0;try{for(var c,i=g[Symbol.iterator]();!(e=(c=i.next()).done);e=!0){var s=c.value;s.x+=s.speedX*t,s.y+=s.speedY*t}}catch(d){n=!0,a=d}finally{try{e||null==i.return||i.return()}finally{if(n)throw a}}for(var u=g.length-1;u>=0;u--){var h=g[u];(h.x>r||h.y>o)&&g.splice(u,1)}},render:function(){if(!(g.length<=0)){u.draw(n,b,m,w,v,w/2,v/2,0,c?1:-1,1);var t=!0,e=!1,a=void 0;try{for(var i,s=g[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var f=i.value,l=f.x,p=f.y,x=f.w,y=f.h,M=f.speedX,j=f.speedY;h[f.type].draw(n,c?r-(l-x/2):l-x/2,o-(p-y/2),x,y,x/2,y/2,d(M,j))}}catch(O){e=!0,a=O}finally{try{t||null==s.return||s.return()}finally{if(e)throw a}}}}});case 13:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),p=window.devicePixelRatio||1,w=document.getElementById("main"),v=document.getElementById("info");(function(){var t=Object(c.a)(a.a.mark((function t(){var e,n,r,c,s,h,d,f,l,b,m,x,y,M,j,O,I,P,R,k,C,E,B,F,T,L,S,X,Y,J,_,A,G,H,U,q,z,D,K,N,Q,V,W,Z,$,tt,et,nt,rt,at,ot,ct,it;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(i.h)(w,p),n=Object(o.a)(e,2),r=n[0],c=n[1],s=w.getContext("webgl"),h=Object(i.e)(r,c,r,c),d=Object(i.c)(s),f=new i.a(w),t.next=7,g(s,d,r,c,!1);case 7:return l=t.sent,t.next=10,g(s,d,r,c,!0);case 10:return b=t.sent,m=u()(s),t.next=14,Object(i.g)(s,"./bg.jpg");case 14:return x=t.sent,t.next=17,Object(i.g)(s,"./spin.png");case 17:return y=t.sent,t.next=20,Object(i.g)(s,"./marker.png");case 20:return M=t.sent,t.next=23,Object(i.g)(s,"./button.png");case 23:return j=t.sent,t.next=26,Object(i.g)(s,"./logo.jpg");case 26:return O=t.sent,t.next=29,Object(i.g)(s,"./resultGlow.png");case 29:return I=t.sent,t.next=32,Promise.all(Array.from({length:12},(function(t,e){return Object(i.g)(s,"./results/".concat(e,".png"))})));case 32:P=t.sent,k=(r-(R=300*r/460))/2,C=R*x.height/x.width,B=.05*r,F=.5*c-(E=.9*r)/2,L=(T=E/3.5)/j.width*j.height,S=.5*r-T/2,X=F+E/2-T/2,J=(Y=E/6)*M.width/M.height,_=.5*r-J/2,A=F+E-.6*Y,H=(G=E/2.5)*O.height/O.width,U=.5*r-G/2,q=A+.8*Y,D=(z=E/2)*P[0].height/P[0].width,Q=.5*r-(K=z/2),V=.5*c-(N=.5*D),W=Math.PI/2,Z=0,$=0,tt=!1,et=!1,nt=!1,rt=!1,at=0,ot=.5,f.addEventListener("touchEnd",(function(){rt&&(rt=!1)})),s.clearColor(0,0,0,0),ct=function(t){for(Z+=t*$;Z>=2*Math.PI;)Z-=2*Math.PI;at=Math.floor(Z/(Math.PI/6)),tt=!1,Z%(Math.PI/6)<Math.PI/48&&(tt=!0),et&&($-=tt?4*W*t:W*t,0===($=Math.max(0,$))&&(et=!1,rt=!0,ot=.5,b.start(),l.start())),!rt&&f.isTouched()&&(nt=!0),nt&&!f.isTouched()&&(nt=!1,$+=et?Math.PI*(Math.random()+1):2*Math.PI*(Math.random()+1),et=!0,$=Math.min($,8*Math.PI)),s.clear(s.COLOR_BUFFER_BIT),d.setProjection(h.combined),d.begin(),d.draw(x,k,0,R,C),d.draw(y,B,F,E,E,E/2,E/2,Z+Math.PI),d.draw(O,U,q,G,H),d.draw(M,_,A,J,Y,J/2,3*Y/4,0,1,tt?1.1:1),d.draw(j,S,X,T,L,T/2,T/2,0,nt?.8:1,nt?.8:1),rt&&(ot+=.075*(1.5-ot),d.setColor(0,0,0,.75),d.draw(m,0,0,r,c),d.setColor(1,1,1,1),d.draw(I,Q,V,z,D,K,N,0,2*ot,2*ot),d.draw(P[at],Q,V,z,D,K,N,0,ot,ot),b.update(t),b.render(),l.update(t),l.render()),d.end()},it=Object(i.d)(ct),setInterval((function(){return v.innerHTML="FPS: ".concat(Math.round(it.getFps())," - Result: ").concat(at)}),1e3);case 71:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}},[[24,1,2]]]);
//# sourceMappingURL=main.7777b704.chunk.js.map